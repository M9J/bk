import{t as E,a as y,c as W}from"../chunks/DRXQyYEx.js";import{i as Y}from"../chunks/DoMQINKh.js";import{ap as sa,i as Pe,l as L,x as De,aq as Ie,y as Ve,z as ke,A as oe,B as X,U as Ne,ar as ie,as as ce,F as C,j as z,a9 as na,m as U,a6 as xe,a5 as Se,at as Le,c as oa,C as ee,D as le,al as ia,a0 as la,$ as ca,g as A,N as ye,ad as va,ah as Me,a8 as da,au as me,a2 as $e,av as fa,aw as ua,ag as ga,ax as ma,k as _a,ay as pa,az as ha,ab as ba,aA as ka,aB as ya,aC as Aa,aD as wa,aj as Ue,aE as Ea,p as J,s as k,v as b,w as x,t as q,q as K,J as T,o as R,aF as Ia,aG as Na,aH as xa,aI as je}from"../chunks/CCxWLmDB.js";import{l as Sa,e as Q,s as B}from"../chunks/DRXcHKob.js";import{p as qe,i as S,s as G,a as fe,b as La}from"../chunks/D-fDbaN0.js";import{o as we,w as te,g as Be}from"../chunks/BRfbvNwI.js";const _e=0,ne=1,pe=2;function $a(a,t,e,r,s){L&&De();var n=a,o=sa(),i=oa,c=Ne,d,l,g,u=(o?ce:C)(void 0),f=(o?ce:C)(void 0),m=!1;function p(v,_){m=!0,_&&(xe(h),Se(h),Le(i));try{v===_e&&e&&(d?ee(d):d=z(()=>e(n))),v===ne&&r&&(l?ee(l):l=z(()=>r(n,u))),v===pe&&s&&(g?ee(g):g=z(()=>s(n,f))),v!==_e&&d&&le(d,()=>d=null),v!==ne&&l&&le(l,()=>l=null),v!==pe&&g&&le(g,()=>g=null)}finally{_&&(Le(null),Se(null),xe(null),ia())}}var h=Pe(()=>{if(c===(c=t()))return;let v=L&&Ie(c)===(n.data===Ve);if(v&&(n=ke(),oe(n),X(!1),v=!0),Ie(c)){var _=c;m=!1,_.then(w=>{_===c&&(ie(u,w),p(ne,!0))},w=>{if(_===c&&(ie(f,w),p(pe,!0),!s))throw f.v}),L?e&&(d=z(()=>e(n))):na(()=>{m||p(_e,!0)})}else ie(u,c),p(ne,!1);return v&&X(!0),()=>c=Ne});L&&(n=U)}function ve(a,t){return t}function ja(a,t,e,r){for(var s=[],n=t.length,o=0;o<n;o++)ua(t[o].e,s,!0);var i=n>0&&s.length===0&&e!==null;if(i){var c=e.parentNode;ga(c),c.append(e),r.clear(),O(a,t[0].prev,t[n-1].next)}ma(s,()=>{for(var d=0;d<n;d++){var l=t[d];i||(r.delete(l.k),O(a,l.prev,l.next)),_a(l.e,!i)}})}function de(a,t,e,r,s,n=null){var o=a,i={flags:t,items:new Map,first:null};{var c=a;o=L?oe(la(c)):c.appendChild(ca())}L&&De();var d=null,l=!1,g=ye(()=>{var u=e();return da(u)?u:u==null?[]:Me(u)});Pe(()=>{var u=A(g),f=u.length;if(l&&f===0)return;l=f===0;let m=!1;if(L){var p=o.data===Ve;p!==(f===0)&&(o=ke(),oe(o),X(!1),m=!0)}if(L){for(var h=null,v,_=0;_<f;_++){if(U.nodeType===8&&U.data===va){o=U,m=!0,X(!1);break}var w=u[_],I=r(w,_);v=ze(U,i,h,null,w,I,_,s,t,e),i.items.set(I,v),h=v}f>0&&oe(ke())}L||qa(u,i,o,s,t,r,e),n!==null&&(f===0?d?ee(d):d=z(()=>n(o)):d!==null&&le(d,()=>{d=null})),m&&X(!0),A(g)}),L&&(o=U)}function qa(a,t,e,r,s,n,o){var i=a.length,c=t.items,d=t.first,l=d,g,u=null,f=[],m=[],p,h,v,_;for(_=0;_<i;_+=1){if(p=a[_],h=n(p,_),v=c.get(h),v===void 0){var w=l?l.e.nodes_start:e;u=ze(w,t,u,u===null?t.first:u.next,p,h,_,r,s,o),c.set(h,u),f=[],m=[],l=u.next;continue}if(Ba(v,p,_),(v.e.f&me)!==0&&ee(v.e),v!==l){if(g!==void 0&&g.has(v)){if(f.length<m.length){var I=m[0],$;u=I.prev;var F=f[0],V=f[f.length-1];for($=0;$<f.length;$+=1)Ce(f[$],I,e);for($=0;$<m.length;$+=1)g.delete(m[$]);O(t,F.prev,V.next),O(t,u,F),O(t,V,I),l=I,u=V,_-=1,f=[],m=[]}else g.delete(v),Ce(v,l,e),O(t,v.prev,v.next),O(t,v,u===null?t.first:u.next),O(t,u,v),u=v;continue}for(f=[],m=[];l!==null&&l.k!==h;)(l.e.f&me)===0&&(g??(g=new Set)).add(l),m.push(l),l=l.next;if(l===null)continue;v=l}f.push(v),u=v,l=v.next}if(l!==null||g!==void 0){for(var P=g===void 0?[]:Me(g);l!==null;)(l.e.f&me)===0&&P.push(l),l=l.next;var ue=P.length;if(ue>0){var re=i===0?e:null;ja(t,P,re,c)}}$e.first=t.first&&t.first.e,$e.last=u&&u.e}function Ba(a,t,e,r){ie(a.v,t),a.i=e}function ze(a,t,e,r,s,n,o,i,c,d){var l=(c&pa)!==0,g=(c&ha)===0,u=l?g?C(s):ce(s):s,f=(c&fa)===0?o:ce(o),m={i:f,v:u,k:n,a:null,e:null,prev:e,next:r};try{return m.e=z(()=>i(a,u,f,d),L),m.e.prev=e&&e.e,m.e.next=r&&r.e,e===null?t.first=m:(e.next=m,e.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function Ce(a,t,e){for(var r=a.next?a.next.e.nodes_start:e,s=t?t.e.nodes_start:e,n=a.e.nodes_start;n!==r;){var o=ba(n);s.before(n),n=o}}function O(a,t,e){t===null?a.first=e:(t.next=e,t.e.next=e&&e.e),e!==null&&(e.prev=t,e.e.prev=t&&t.e)}const Te=[...` 	
\r\f \v\uFEFF`];function Ca(a,t,e){var r=""+a;if(e){for(var s in e)if(e[s])r=r?r+" "+s:s;else if(r.length)for(var n=s.length,o=0;(o=r.indexOf(s,o))>=0;){var i=o+n;(o===0||Te.includes(r[o-1]))&&(i===r.length||Te.includes(r[i]))?r=(o===0?"":r.substring(0,o))+r.substring(i+1):o=i}}return r===""?null:r}function Ta(a,t,e,r,s,n){var o=a.__className;if(L||o!==e||o===void 0){var i=Ca(e,r,n);(!L||i!==a.getAttribute("class"))&&(i==null?a.removeAttribute("class"):a.className=i),a.__className=e}else if(n&&s!==n)for(var c in n){var d=!!n[c];(s==null||d!==!!s[c])&&a.classList.toggle(c,d)}return n}const Ra=Symbol("is custom element"),Oa=Symbol("is html");function H(a,t,e,r){var s=Fa(a);L&&(s[t]=a.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&a.nodeName==="LINK")||s[t]!==(s[t]=e)&&(t==="loading"&&(a[ya]=e),e==null?a.removeAttribute(t):typeof e!="string"&&Pa(a).includes(t)?a[t]=e:a.setAttribute(t,e))}function Fa(a){return a.__attributes??(a.__attributes={[Ra]:a.nodeName.includes("-"),[Oa]:a.namespaceURI===ka})}var Re=new Map;function Pa(a){var t=Re.get(a.nodeName);if(t)return t;Re.set(a.nodeName,t=[]);for(var e,r=a,s=Element.prototype;s!==r;){e=wa(r);for(var n in e)e[n].set&&t.push(n);r=Aa(r)}return t}function He(a,t,e){if(a.multiple)return Ma(a,t);for(var r of a.options){var s=ae(r);if(Ea(s,t)){r.selected=!0;return}}(!e||t!==void 0)&&(a.selectedIndex=-1)}function Da(a,t){Ue(()=>{var e=new MutationObserver(()=>{var r=a.__value;He(a,r)});return e.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{e.disconnect()}})}function Va(a,t,e=t){var r=!0;Sa(a,"change",s=>{var n=s?"[selected]":":checked",o;if(a.multiple)o=[].map.call(a.querySelectorAll(n),ae);else{var i=a.querySelector(n)??a.querySelector("option:not([disabled])");o=i&&ae(i)}e(o)}),Ue(()=>{var s=t();if(He(a,s,r),r&&s===void 0){var n=a.querySelector(":checked");n!==null&&(s=ae(n),e(s))}a.__value=s,r=!1}),Da(a)}function Ma(a,t){for(var e of a.options)e.selected=~t.indexOf(ae(e))}function ae(a){return"__value"in a?a.__value:a.value}const Ua=async()=>await Ga(),za="c3bb7c6ce286577d5945d6e452b9c8dca103276a88f9c5c4587372b957f164d6d636acce2422ce3410488b3feb6a9e7b2bf3aeb576614d23d958d3086e5f00f4",Ha="1976f6ba3ea71cc44453f8de0e412b6b";async function Ga(){const a=localStorage.getItem("pwd")||prompt("Password")||"",t=await Ja(a);return t&&localStorage.setItem("pwd",a),t}async function Wa(a,t){const e=new TextEncoder,r=await window.crypto.subtle.importKey("raw",e.encode(a),{name:"PBKDF2"},!1,["deriveBits"]),s=await window.crypto.subtle.deriveBits({name:"PBKDF2",salt:e.encode(t),iterations:1e5,hash:"SHA-512"},r,512);return Array.from(new Uint8Array(s)).map(n=>n.toString(16).padStart(2,"0")).join("")}async function Ya(a,t,e){return await Wa(a,e)===t}async function Ja(a){return await Ya(a,za,Ha)}const Ge="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAAAAACPAi4CAAABH0lEQVRYw2NgGAVUArGNZIBYJAPa/pMB2kYNGDVg1IBRA0YNGDVg1IARacCO6KQdFBjwcpI1C6v11JfkGvC4QoWFgYFFvfoxmQYkCTGBJJmE48ky4KoNM0ya2eoqyQbc7VNnRMgzak68S5oBZzNlGJHbgYwy6WdJMWCvpyB6U1LA8xDxBszUYsNsjLLpzCHWgFoJRmzNWUbxSqIMOBLPj6tFzBd7hLABi5zYcbep2Z3nEzDgZaUmE75WOaN62WN8BhyPEiPUsBeLPoXbgEOunIS7BhxO+3EY8HKDAXG9C811L7EZcLxYnNj+iVjBEUwD1vnzE9/D4fNeiW7AfFNOUvpIHEazUA3ok2QmrZfFLN6JbIAdC+kdNRa70c4qtQAA7m/LhSePmzgAAAAASUVORK5CYII=",We={faviconSize:128,faviconFetchServiceURL:a=>`https://t2.gstatic.com/faviconV2?client=SOCIAL&type=FAVICON&fallback_opts=TYPE,SIZE,URL&url=${a}&size=${We.faviconSize}`};async function Ka(){const t="/bk"+"/bookmarks";try{const e=await fetch(t+"/index.json");if(e){const r=await e.json();if(Array.isArray(r)?r.length>0:!1){const o=r.sort().map(i=>fetch(t+"/"+i+".json").then(c=>c.json()).then(c=>(c.bookmarkIndexName=i,c)));return await Promise.all(o)}}}catch(e){console.error("bookmarks folder or bookmarks/index.json not found. Error:",e)}}async function Za(a){const t={};if(Array.isArray(a)?a.length>0:!1)for(let r=0;r<a.length;r++){const s=a[r],n=s.LINK,o=s.ICON;let i="";if(o)i=o;else if(n){const c=new URL(n),d=c.protocol+"//"+c.hostname;i=We.faviconFetchServiceURL(d)}else i=Ge;s.bookmarkIndexName&&(t[s.bookmarkIndexName]=i)}return t}var Qa=E('<div class="bk-meta-info svelte-1jzx7ns"><div class="bk-name svelte-1jzx7ns"> </div> <div class="bk-link svelte-1jzx7ns"> </div></div>'),Xa=E('<div class="bk-title svelte-1jzx7ns"> </div>'),et=E('<div class="bk-desc svelte-1jzx7ns"> </div>'),at=E('<a class="bk svelte-1jzx7ns" target="_blank" rel="noopener noreferrer"><div class="bk-meta svelte-1jzx7ns"><div class="bk-icon svelte-1jzx7ns"><img class="bk-icon-img svelte-1jzx7ns" alt="icon" width="100%" height="100%" loading="lazy"></div> <!></div> <!> <!></a>');function Oe(a,t){J(t,!1);let e=qe(t,"bookmark",8),r=qe(t,"faviconLink",8);const s=e().LINK||"javascript:void(0)";let n=e().NAME||e().LINK;function o(v){const _=v==null?void 0:v.target;_&&(_.src=Ge)}Y();var i=at();H(i,"href",s),H(i,"title",n);var c=k(i),d=k(c),l=k(d);b(d);var g=x(d,2);{var u=v=>{var _=Qa(),w=k(_),I=k(w,!0);b(w);var $=x(w,2),F=k($,!0);b($),b(_),q(()=>{B(I,e().NAME),B(F,e().LINK)}),y(v,_)};S(g,v=>{e().IS_PINNED||v(u)})}b(c);var f=x(c,2);{var m=v=>{var _=Xa(),w=k(_,!0);b(_),q(()=>B(w,e().TITLE)),y(v,_)};S(f,v=>{e().TITLE&&v(m)})}var p=x(f,2);{var h=v=>{var _=et(),w=k(_,!0);b(_),q(()=>B(w,e().DESC)),y(v,_)};S(p,v=>{e().DESC&&v(h)})}b(i),q(()=>{H(i,"data-bookmark-icon",e().ICON),H(l,"src",r())}),Q("error",l,o),y(a,i),K()}var tt=E('<div class="bk-container-pinned svelte-1uu4y0a"></div>'),rt=E('<div class="bk-container-grid svelte-1uu4y0a"></div>'),st=E('<div class="bk-wrapper svelte-1uu4y0a"><div class="bk-container svelte-1uu4y0a"><!> <!></div></div>');function nt(a,t){J(t,!1);let e=[],r=C([]),s=C([]),n=C({});async function o(){const f=await Ka();f&&(e=f.sort((p,h)=>p.NAME.localeCompare(h.NAME)),T(r,e.filter(p=>p.IS_PINNED)),T(s,e.filter(p=>!p.IS_PINNED)))}we(async()=>{await o();const f=await Za(e);f&&T(n,f)}),Y();var i=st(),c=k(i),d=k(c);{var l=f=>{var m=tt();de(m,5,()=>A(r),ve,(p,h)=>{var v=W(),_=R(v);{var w=I=>{Oe(I,{get bookmark(){return A(h)},get faviconLink(){return A(n)[A(h).bookmarkIndexName]}})};S(_,I=>{A(h).bookmarkIndexName&&I(w)})}y(p,v)}),b(m),y(f,m)};S(d,f=>{A(r).length>0&&f(l)})}var g=x(d,2);{var u=f=>{var m=rt();de(m,5,()=>A(s),ve,(p,h)=>{var v=W(),_=R(v);{var w=I=>{Oe(I,{get bookmark(){return A(h)},get faviconLink(){return A(n)[A(h).bookmarkIndexName]}})};S(_,I=>{A(h).bookmarkIndexName&&I(w)})}y(p,v)}),b(m),y(f,m)};S(g,f=>{A(s).length>0&&f(u)})}b(c),b(i),y(a,i),K()}const Ae=te("home"),he=te(null),be=te(null);var ot=E('<hr class="separator svelte-obx2py">'),it=E('<div class="header svelte-obx2py"><a class="brand svelte-obx2py"></a> <select class="view-list svelte-obx2py" id="view-list"><option>Home</option><option>Settings</option></select></div> <!>',1);function lt(a){const[t,e]=fe(),r=()=>G(Ae,"$selectedPage",t),s="https://m9j.github.io/bk";var n=it(),o=R(n),i=k(o);H(i,"href",s),i.textContent="BOOKMARKS";var c=x(i,2);q(()=>{r(),Ia(()=>{})});var d=k(c);d.value=d.__value="home";var l=x(d);l.value=l.__value="settings",b(c),b(o);var g=x(o,2);{var u=f=>{var m=ot();y(f,m)};S(g,f=>{r()!=="home"&&f(u)})}Va(c,r,f=>La(Ae,f)),y(a,n),e()}async function Ye(a){if(a){let t=setTimeout(()=>{clearTimeout(t),a()},0)}}async function ct(){const t="/bk"+"/lambdas";try{const e=await fetch(t+"/index.json");if(e){let r=await e.json();if(r=r.filter(n=>!!n),Array.isArray(r)?r.length>0:!1){const n=r.map(o=>import(t+"/"+o+".lambda.js"));return await Promise.all(n)}}}catch(e){console.error("lambdas folder or lambdas/index.json not found. Error:",e)}}async function vt(a){if(Array.isArray(a)?a.length>0:!1)for(const[e,r]of Object.entries(a))dt(r,Number(e))}const Je=te([]);async function dt(a,t){Ye(async()=>{if(a.action&&typeof a.action=="function"){const e=c=>{Je.update(d=>(d[t]=c,d))},r={updateValue:e},s=await a.action(r),n=["string","number","boolean"].includes(typeof s),o=typeof s=="object",i=typeof s=="function";if(s){if(n)e(s);else if(o){const c=Array.isArray(s);e(c?s.join(","):JSON.stringify(s))}else if(i){const c=()=>{let d=setTimeout(()=>{clearTimeout(d),s(e),c()},a.CONFIG_ACTION_DELAY||1e3)};c()}}}})}var ft=E('<div class="lambda svelte-tr3t32"><div class="lambda-title"> </div> <p class="lambda-result svelte-tr3t32"> </p></div>'),ut=E('<div class="lambdas-container svelte-tr3t32"></div>');function gt(a,t){J(t,!1);const[e,r]=fe(),s=()=>G(o,"$results",e);let n=C([]);const o=Je;we(async()=>{const l=await ct();l&&(Array.isArray(l)&&l.length>0)&&(T(n,l),vt(A(n)))}),Y();var i=W(),c=R(i);{var d=l=>{var g=ut();de(g,5,()=>A(n),ve,(u,f,m)=>{var p=ft(),h=k(p),v=k(h);b(h);var _=x(h,2),w=k(_,!0);b(_),b(p),q(()=>{B(v,`${A(f).prompt??""}: `),B(w,s()[m]??"...")}),y(u,p)}),b(g),y(l,g)};S(c,l=>{A(n).length>0&&l(d)})}y(a,i),K(),r()}function mt(){localStorage.removeItem("pwd"),navigator.serviceWorker.getRegistrations().then(a=>{a.forEach(t=>t.unregister()),console.log("All service workers have been unregistered."),caches.keys().then(t=>Promise.all(t.map(e=>caches.delete(e)))).then(()=>{console.log("All caches have been cleared."),location.reload()})})}function Fe(a){if(a){const t=new Date(Number(a)),e=String(t.getFullYear()),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),n=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0"),i=String(t.getSeconds()).padStart(2,"0");return`${e}.${r}${s}.${n}${o}${i}`}}async function _t(){const t="/bk"+"/version.json";try{const e=await fetch(t);if(!e.ok)console.log(new Error("Failed to fetch current version"));else return(await e.json()).version}catch(e){console.error("Current version check failed: ",e)}}async function pt(){const a="https://api.github.com/repos/m9j/bk/contents/version.json?ref=gh-pages";try{const t=await fetch(a,{cache:"no-store"});if(!t.ok)console.log(new Error("Failed to fetch latest version"));else{const e=await t.json();return JSON.parse(atob(e.content)).version}}catch(t){console.error("Latest version check failed: ",t)}}var ht=E('<span class="monospace svelte-18qi8qj"> </span> <br>',1),bt=E("<span> </span><br>",1),kt=E("<div>Versions:<br> <!> <!></div>"),yt=E('<button class="settings-button svelte-18qi8qj">Enable Eruda</button>'),At=E('<button class="settings-button svelte-18qi8qj">Disable Eruda</button>'),wt=E('<div class="settings-container hide svelte-18qi8qj" id="settings-container"><div class="columns svelte-18qi8qj"><div class="columns svelte-18qi8qj"><!></div> <div class="rows svelte-18qi8qj"><button class="settings-button svelte-18qi8qj">Check for latest version</button> <button class="settings-button svelte-18qi8qj">Hard reload application</button></div></div> <div class="columns svelte-18qi8qj"><div class="columns svelte-18qi8qj"><div>Repo deploy status:</div> <div><img src="https://github.com/m9j/bk/actions/workflows/deploy.yml/badge.svg" alt="Github Deploy Status"></div></div></div> <div class="columns svelte-18qi8qj"><div class="columns svelte-18qi8qj"><div> </div> <div class="rows svelte-18qi8qj"><!></div></div></div></div>');function Et(a,t){J(t,!1);const[e,r]=fe(),s=()=>G(he,"$currentVersion",e),n=()=>G(be,"$latestVersion",e),o=()=>G(c,"$isNew",e),i=C(),c=te(!1);(async()=>(await d(),await l()))();async function d(){const N=await _t();he.update(j=>N)}async function l(){const N=await pt();be.update(j=>N),c.update(j=>Number(Be(be))>Number(Be(he)))}let g=C(null);typeof localStorage<"u"&&T(g,localStorage.getItem("isErudaEnabled"));function u(){const N=window.eruda;N&&N.init(),T(g,"1"),typeof localStorage<"u"&&localStorage.setItem("isErudaEnabled","1")}function f(){const N=window.eruda;N&&N.destroy(),T(g,null),typeof localStorage<"u"&&localStorage.removeItem("isErudaEnabled")}Na(()=>A(g),()=>{T(i,!!A(g))}),xa(),Y();var m=wt(),p=k(m),h=k(p),v=k(h);{var _=N=>{var j=kt(),Ee=x(k(j),3);{var Xe=D=>{var Z=ht(),M=R(Z),se=k(M);b(M),je(2),q(ge=>B(se,`${ge??""} [CURRENT]`),[()=>Fe(s())],ye),y(D,Z)};S(Ee,D=>{s()&&D(Xe)})}var ea=x(Ee,2);{var aa=D=>{var Z=bt(),M=R(Z);let se;var ge=k(M);b(M),je(),q((ta,ra)=>{se=Ta(M,1,"monospace svelte-18qi8qj",null,se,ta),B(ge,`${ra??""} [LATEST]`)},[()=>({"is-new":o()}),()=>Fe(n())],ye),y(D,Z)};S(ea,D=>{n()&&D(aa)})}b(j),y(N,j)};S(v,N=>{(s()||n())&&N(_)})}b(h);var w=x(h,2),I=k(w),$=x(I,2);b(w),b(p);var F=x(p,4),V=k(F),P=k(V),ue=k(P);b(P);var re=x(P,2),Ke=k(re);{var Ze=N=>{var j=yt();Q("click",j,()=>u()),y(N,j)},Qe=N=>{var j=At();Q("click",j,()=>f()),y(N,j)};S(Ke,N=>{A(i)?N(Qe,!1):N(Ze)})}b(re),b(V),b(F),b(m),q(()=>B(ue,`Eruda: ${A(i)?"ENABLED":"DISABLED"}`)),Q("click",I,()=>l()),Q("click",$,()=>mt()),y(a,m),K(),r()}async function It(){const t="/bk"+"/widgets";try{const e=await fetch(t+"/index.json");if(e){let r=await e.json();if(r=r.filter(n=>!!n),Array.isArray(r)?r.length>0:!1){const n=r.map(o=>import(t+"/"+o+".widget.js"));return await Promise.all(n)}}}catch(e){console.error("widgets folder or widgets/index.json not found. Error:",e)}}async function Nt(a,t){if(Array.isArray(a)?a.length>0:!1)for(const[r,s]of Object.entries(a))xt(s,Number(r),t)}async function xt(a,t,e){Ye(async()=>{a.element&&e(a.element,t)})}var St=E('<div class="widget-title"> </div>'),Lt=E('<div class="widget svelte-q32755"><!> <div class="widget-element-container"></div></div>'),$t=E('<div class="widgets-container svelte-q32755"></div>');function jt(a,t){J(t,!1);let e=C([]);we(async()=>{const o=await It();if(o&&(Array.isArray(o)?o.length>0:!1)){T(e,o);const c=(d,l)=>{if(d){const g=document.getElementById("widget-element-container-"+l);g==null||g.appendChild(d)}};Nt(A(e),c)}}),Y();var r=W(),s=R(r);{var n=o=>{var i=$t();de(i,5,()=>A(e),ve,(c,d,l)=>{var g=Lt(),u=k(g);{var f=p=>{var h=St(),v=k(h,!0);b(h),q(()=>B(v,A(d).title)),y(p,h)};S(u,p=>{A(d).title&&p(f)})}var m=x(u,2);H(m,"id","widget-element-container-"+l),b(g),y(c,g)}),b(i),y(o,i)};S(s,o=>{A(e).length>0&&o(n)})}y(a,r),K()}var qt=E('<div class="app-wrapper svelte-1bqwxda"><!> <!> <!> <div class="app-bottom-wrapper svelte-1bqwxda"><!> <!></div></div>');function Bt(a){const[t,e]=fe(),r=()=>G(Ae,"$selectedPage",t);if(typeof localStorage<"u"&&localStorage.getItem("isErudaEnabled")){const f=window.eruda;f&&f.init()}var s=qt(),n=k(s);nt(n,{});var o=x(n,2);gt(o,{});var i=x(o,2);jt(i,{});var c=x(i,2),d=k(c);lt(d);var l=x(d,2);{var g=u=>{Et(u,{})};S(l,u=>{r()==="settings"&&u(g)})}b(c),b(s),y(a,s),e()}var Ct=E('<div class="message svelte-170vfwx">Access: 401 Unauthorized</div>'),Tt=E('<div class="message svelte-170vfwx"> </div>'),Rt=E('<div class="message svelte-170vfwx">&nbsp;</div>');function Ut(a,t){J(t,!1),Y();var e=W(),r=R(e);$a(r,Ua,s=>{var n=Rt();y(s,n)},(s,n)=>{var o=W(),i=R(o);{var c=l=>{Bt(l)},d=l=>{var g=Ct();y(l,g)};S(i,l=>{A(n)?l(c):l(d,!1)})}y(s,o)},(s,n)=>{var o=Tt(),i=k(o);b(o),q(()=>B(i,`Access: ERROR: ${A(n)??""}`)),y(s,o)}),y(a,e),K()}export{Ut as component};
