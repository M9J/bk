const c="mybookmarks-dyncache-v1",h=/^\/(src|dist)?\/?(bookmarks\/)?/,n="https://api.github.com/repos/m9j/bookmarks/contents/version.json?ref=gh-pages";self.addEventListener("fetch",e=>{const r=new URL(e.request.url);if(console.log("requestURL.href",r.href),r.href===n){e.respondWith(fetch(e.request));return}h.test(r.pathname)&&e.respondWith(caches.match(e.request).then(s=>s||fetch(e.request).then(async t=>caches.open(c).then(o=>(console.log("CACHED:",e.request.url),o.put(e.request,t.clone()),t)))).catch(s=>{console.error("Fetch failed:",e.request.url,s)}))});
