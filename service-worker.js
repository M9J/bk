const c="mybookmarks-dyncache-v1",u="https://api.github.com/repos/m9j/bk/contents/version.json?ref=gh-pages";self.addEventListener("fetch",e=>{if(new URL(e.request.url).href===u){e.respondWith(fetch(e.request));return}e.respondWith(caches.match(e.request).then(r=>r||fetch(e.request).then(async s=>caches.open(c).then(t=>(console.log("CACHED:",e.request.url),t.put(e.request,s.clone()),s)))).catch(r=>{console.error("Fetch failed:",e.request.url,r)}))});
