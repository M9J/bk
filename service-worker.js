const c="mybookmarks-dyncache-v1",u="https://api.github.com/repos/m9j/bk/contents/version.json?ref=gh-pages";self.addEventListener("fetch",e=>{if(new URL(e.request.url).href===u){e.respondWith(fetch(e.request));return}e.respondWith(fetch(e.request).catch(()=>{caches.match(e.request).then(r=>r||fetch(e.request).then(async t=>caches.open(c).then(s=>(console.log("CACHED:",e.request.url),s.put(e.request,t.clone()),t)))).catch(r=>{console.error("Fetch failed:",e.request.url,r)})}))});
